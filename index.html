<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>F4TA Morgana AI Lab</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <!-- –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –Ω–∞ —Ñ–æ–Ω–µ -->
        <div class="neural-network">
            <div class="neuron"></div>
            <div class="neuron"></div>
            <div class="neuron"></div>
            <div class="neuron"></div>
            <div class="neuron"></div>
        </div>

        <!-- –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏—Ü—ã -->
        <div class="organic-particles">
            <div class="particle" style="left: 10%; animation-delay: 0s"></div>
            <div class="particle" style="left: 30%; animation-delay: 1s"></div>
            <div class="particle" style="left: 50%; animation-delay: 2s"></div>
            <div class="particle" style="left: 70%; animation-delay: 3s"></div>
            <div class="particle" style="left: 90%; animation-delay: 4s"></div>
        </div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —ç—Ç–∞–ø–æ–≤ -->
        <div class="progress-bar" id="progressBar">
            <div class="step-indicator">
                <div class="step-circle active" data-step="1">1</div>
                <div class="step-line"></div>
                <div class="step-circle" data-step="2">2</div>
                <div class="step-line"></div>
                <div class="step-circle" data-step="3">3</div>
                <div class="step-line"></div>
                <div class="step-circle" data-step="4">4</div>
                <div class="step-line"></div>
                <div class="step-circle" data-step="5">5</div>
            </div>
        </div>

        <div class="container">
            <!-- –≠—Ç–∞–ø 1: –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div class="stage active" id="stage1">
                <div class="hero">
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="220"
                        height="220"
                        viewBox="0 0 200 200"
                        role="img"
                        aria-label="Neural network logo with neutron core"
                    >
                        <defs>
                            <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç -->
                            <linearGradient
                                id="linkGrad"
                                x1="0"
                                x2="1"
                                y1="0"
                                y2="1"
                            >
                                <stop offset="0%" stop-color="#00dc82">
                                    <animate
                                        attributeName="stop-color"
                                        values="#00dc82;#9d4edd;#00f5ff;#00dc82"
                                        dur="6s"
                                        repeatCount="indefinite"
                                    />
                                </stop>
                                <stop offset="50%" stop-color="#9d4edd">
                                    <animate
                                        attributeName="stop-color"
                                        values="#9d4edd;#00f5ff;#00dc82;#9d4edd"
                                        dur="6s"
                                        repeatCount="indefinite"
                                    />
                                </stop>
                                <stop offset="100%" stop-color="#00f5ff">
                                    <animate
                                        attributeName="stop-color"
                                        values="#00f5ff;#00dc82;#9d4edd;#00f5ff"
                                        dur="6s"
                                        repeatCount="indefinite"
                                    />
                                </stop>
                            </linearGradient>

                            <!-- –≠—Ñ—Ñ–µ–∫—Ç —Å–≤–µ—á–µ–Ω–∏—è -->
                            <filter
                                id="glow"
                                x="-50%"
                                y="-50%"
                                width="200%"
                                height="200%"
                            >
                                <feGaussianBlur
                                    in="SourceGraphic"
                                    stdDeviation="3"
                                    result="blur"
                                />
                                <feMerge>
                                    <feMergeNode in="blur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>

                            <!-- –ì—Ä–∞–¥–∏–µ–Ω—Ç —è–¥—Ä–∞ -->
                            <radialGradient
                                id="coreGrad"
                                cx="50%"
                                cy="50%"
                                r="50%"
                            >
                                <stop offset="0%" stop-color="#ffffff" />
                                <stop offset="50%" stop-color="#9d4edd" />
                                <stop
                                    offset="100%"
                                    stop-color="#00f5ff"
                                    stop-opacity="0.7"
                                />
                            </radialGradient>

                            <style>
                                .node {
                                    filter: url(#glow);
                                }
                                .link {
                                    stroke: url(#linkGrad);
                                    stroke-width: 2.5;
                                    opacity: 0.8;
                                }
                                .orbit {
                                    fill: none;
                                    stroke: #00f5ff;
                                    stroke-opacity: 0.4;
                                    stroke-width: 1;
                                }
                                .particle {
                                    fill: #00dc82;
                                    filter: url(#glow);
                                }
                            </style>
                        </defs>

                        <!-- –õ–∏–Ω–∏–∏-—Å–≤—è–∑–∏ -->
                        <line x1="100" y1="100" x2="40" y2="40" class="link">
                            <animate
                                attributeName="x2"
                                values="40;30;40"
                                dur="5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="40;30;40"
                                dur="5s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <line x1="100" y1="100" x2="150" y2="50" class="link">
                            <animate
                                attributeName="x2"
                                values="150;170;150"
                                dur="6s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="50;30;50"
                                dur="6s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <line x1="100" y1="100" x2="160" y2="120" class="link">
                            <animate
                                attributeName="x2"
                                values="160;180;160"
                                dur="4s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="120;140;120"
                                dur="4s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <line x1="100" y1="100" x2="60" y2="160" class="link">
                            <animate
                                attributeName="x2"
                                values="60;40;60"
                                dur="5.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="160;180;160"
                                dur="5.5s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <line x1="100" y1="100" x2="140" y2="170" class="link">
                            <animate
                                attributeName="x2"
                                values="140;160;140"
                                dur="6.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="170;190;170"
                                dur="6.5s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <line x1="100" y1="100" x2="40" y2="120" class="link">
                            <animate
                                attributeName="x2"
                                values="40;20;40"
                                dur="4.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="y2"
                                values="120;140;120"
                                dur="4.5s"
                                repeatCount="indefinite"
                            />
                        </line>

                        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —è–¥—Ä–æ (–∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ "–Ω–µ–π—Ç—Ä–æ–Ω") -->
                        <circle
                            cx="100"
                            cy="100"
                            r="18"
                            fill="url(#coreGrad)"
                            filter="url(#glow)"
                        >
                            <animate
                                attributeName="r"
                                values="18;22;18"
                                dur="3s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <!-- –û—Ä–±–∏—Ç—ã -->
                        <circle cx="100" cy="100" r="30" class="orbit" />
                        <circle cx="100" cy="100" r="45" class="orbit" />

                        <!-- –ß–∞—Å—Ç–∏—Ü—ã –Ω–∞ –æ—Ä–±–∏—Ç–∞—Ö -->
                        <circle r="4" class="particle">
                            <animateMotion
                                dur="6s"
                                repeatCount="indefinite"
                                path="M100,100 m-30,0 a30,30 0 1,1 60,0 a30,30 0 1,1 -60,0"
                            />
                        </circle>

                        <circle r="3" fill="#ffffff" class="particle">
                            <animateMotion
                                dur="8s"
                                repeatCount="indefinite"
                                path="M100,100 m-45,0 a45,45 0 1,1 90,0 a45,45 0 1,1 -90,0"
                            />
                        </circle>

                        <!-- –£–∑–ª—ã –≤–æ–∫—Ä—É–≥ -->
                        <circle
                            cx="40"
                            cy="40"
                            r="6"
                            fill="#00dc82"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="40;30;40"
                                dur="5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="40;30;40"
                                dur="5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="6;10;6"
                                dur="5s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <circle
                            cx="150"
                            cy="50"
                            r="7"
                            fill="#00f5ff"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="150;170;150"
                                dur="6s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="50;30;50"
                                dur="6s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="7;11;7"
                                dur="6s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <circle
                            cx="160"
                            cy="120"
                            r="6"
                            fill="#9d4edd"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="160;180;160"
                                dur="4s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="120;140;120"
                                dur="4s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="6;9;6"
                                dur="4s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <circle
                            cx="60"
                            cy="160"
                            r="7"
                            fill="#00dc82"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="60;40;60"
                                dur="5.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="160;180;160"
                                dur="5.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="7;12;7"
                                dur="5.5s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <circle
                            cx="140"
                            cy="170"
                            r="5"
                            fill="#00f5ff"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="140;160;140"
                                dur="6.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="170;190;170"
                                dur="6.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="5;9;5"
                                dur="6.5s"
                                repeatCount="indefinite"
                            />
                        </circle>

                        <circle
                            cx="40"
                            cy="120"
                            r="5"
                            fill="#9d4edd"
                            class="node"
                        >
                            <animate
                                attributeName="cx"
                                values="40;20;40"
                                dur="4.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="cy"
                                values="120;140;120"
                                dur="4.5s"
                                repeatCount="indefinite"
                            />
                            <animate
                                attributeName="r"
                                values="5;8;5"
                                dur="4.5s"
                                repeatCount="indefinite"
                            />
                        </circle>
                    </svg>

                    <h1 data-text="F4TA-Morgana AI Lab">F4TA-Morgana AI Lab</h1>
                    <p class="subtitle">
                        Laboratorium experimentorum neuralium
                    </p>

                    <div class="upload-zone">
                        <input
                            type="file"
                            id="fileInput"
                            style="display: none"
                            accept="image/*"
                        />
                        <button
                            class="upload-button"
                            onclick="document.getElementById('fileInput').click()"
                        >
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
                        </button>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -->
            <div class="stage" id="stage2">
                <div class="tools-selection">
                    <div class="tool-card" onclick="selectTool('deepfake')">
                        <div class="tool-icon-large">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"
                                />
                            </svg>
                        </div>
                        <h3 class="tool-title">DeepFake</h3>
                        <p class="tool-description">
                            –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∞—è –∑–∞–º–µ–Ω–∞ –ª–∏—Ü —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π –Ω–æ–≤–æ–≥–æ
                            –ø–æ–∫–æ–ª–µ–Ω–∏—è
                        </p>
                    </div>

                    <div class="tool-card" onclick="selectTool('neural')">
                        <div class="tool-icon-large">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"
                                />
                            </svg>
                        </div>
                        <h3 class="tool-title">Neural Editor</h3>
                        <p class="tool-description">
                            –ë–∏–æ-–º–æ—Ä—Ñ–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å AI-—É—Å–∏–ª–µ–Ω–∏–µ–º
                        </p>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="stage" id="stage3">
                <!-- DeepFake –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div id="deepfakeSettings" style="display: none">
                    <div class="bio-glow">
                        <div class="synthesis-particles">
                            <div
                                class="bio-particle"
                                style="animation-delay: 0s"
                            ></div>
                            <div
                                class="bio-particle"
                                style="animation-delay: 1s"
                            ></div>
                            <div
                                class="bio-particle"
                                style="animation-delay: 2s"
                            ></div>
                        </div>
                    </div>
                    <div class="settings-buttons">
                        <button
                            class="setting-button"
                            onclick="handleDeepfakeOption('upload')"
                        >
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª
                        </button>
                        <button
                            class="setting-button"
                            onclick="handleDeepfakeOption('collection')"
                        >
                            –í—ã–±—Ä–∞—Ç—å –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
                        </button>
                    </div>
                    <div
                        id="deepfakeTransition"
                        class="transition-indicator"
                        style="display: none"
                    >
                        <p>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–∏–Ω—Ç–µ–∑—É...</p>
                        <div class="countdown-circle"></div>
                    </div>
                </div>

                <!-- Neural Editor –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div id="neuralSettings" style="display: none">
                    <div class="text-input-container">
                        <textarea
                            class="bio-input"
                            id="promptInput"
                            placeholder="–û–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è..."
                        ></textarea>
                        <div class="prompt-suggestions">
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–°–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º')"
                            >
                                üåå –ö–æ—Å–º–æ—Å
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–Ω–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ')"
                            >
                                ‚ú® –ù–µ–æ–Ω
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–°—Ç–∏–ª—å –∫–∏–±–µ—Ä–ø–∞–Ω–∫')"
                            >
                                ü§ñ –ö–∏–±–µ—Ä–ø–∞–Ω–∫
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –≤ –∞–Ω–∏–º–µ')"
                            >
                                üé® –ê–Ω–∏–º–µ
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–î–æ–±–∞–≤–∏—Ç—å –¥–æ–∂–¥—å')"
                            >
                                üåßÔ∏è –î–æ–∂–¥—å
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–°–¥–µ–ª–∞—Ç—å –≤–∏–Ω—Ç–∞–∂–Ω—ã–º')"
                            >
                                üì∑ –í–∏–Ω—Ç–∞–∂
                            </div>
                        </div>
                    </div>
                    <div
                        id="neuralTransition"
                        class="transition-indicator"
                        style="display: none"
                    >
                        <p>–ê–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞...</p>
                        <div class="countdown-circle"></div>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 4: –°–∏–Ω—Ç–µ–∑ -->
            <div class="stage" id="stage4">
                <div class="synthesis-container">
                    <div class="synthesis-reactor">
                        <div class="reactor-core"></div>
                        <div class="synthesis-ring"></div>
                        <div class="synthesis-ring"></div>
                        <div class="synthesis-ring"></div>
                        <div class="synthesis-particles">
                            <div
                                class="bio-particle"
                                style="animation-delay: 0s"
                            ></div>
                            <div
                                class="bio-particle"
                                style="animation-delay: 0.5s"
                            ></div>
                            <div
                                class="bio-particle"
                                style="animation-delay: 1s"
                            ></div>
                            <div
                                class="bio-particle"
                                style="animation-delay: 1.5s"
                            ></div>
                        </div>
                    </div>
                    <div class="synthesis-text">–ë–∏–æ-—Å–∏–Ω—Ç–µ–∑ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...</div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 5: –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div class="stage" id="stage5">
                <div class="result-container">
                    <div class="image-comparer">
                        <div class="comparer-container" id="comparerContainer">
                            <div class="comparer-image before">
                                <span>–û—Ä–∏–≥–∏–Ω–∞–ª</span>
                            </div>
                            <div class="comparer-image after">
                                <span>–†–µ–∑—É–ª—å—Ç–∞—Ç</span>
                            </div>
                            <div
                                class="comparer-slider"
                                id="comparerSlider"
                            ></div>
                            <div class="comparer-labels">
                                <span class="comparer-label">–î–æ</span>
                                <span class="comparer-label">–ü–æ—Å–ª–µ</span>
                            </div>
                        </div>
                    </div>
                    <div class="result-actions">
                        <button
                            class="result-button"
                            onclick="downloadResult()"
                        >
                            –°–∫–∞—á–∞—Ç—å
                        </button>
                        <button class="result-button" onclick="shareResult()">
                            –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                        </button>
                        <button class="result-button" onclick="goToStage(1)">
                            –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
