<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>F4TA Morgana AI Lab</title>
        <link rel="stylesheet" href="styles.css" />
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
    </head>
    <body>
        <!-- –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –Ω–∞ —Ñ–æ–Ω–µ -->
        <div class="neural-network">
            <div class="neuron"></div>
            <div class="neuron"></div>
            <div class="neuron"></div>
        </div>

        <!-- –û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏—Ü—ã -->
        <div class="organic-particles">
            <div class="particle" style="left: 10%; animation-delay: 0s"></div>
            <div class="particle" style="left: 50%; animation-delay: 2s"></div>
            <div class="particle" style="left: 90%; animation-delay: 4s"></div>
        </div>

        <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —ç—Ç–∞–ø–æ–≤ -->
        <div class="progress-bar" id="progressBar">
            <div class="step-indicator">
                <div class="step-circle active" data-step="1">1</div>
                <div class="step-circle" data-step="2">2</div>
                <div class="step-circle" data-step="3">3</div>
                <div class="step-circle" data-step="4">4</div>
                <div class="step-circle" data-step="5">5</div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–∑–∞–¥ -->
        <button class="back-button" id="backButton" onclick="goBack()">
            <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                    d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"
                />
            </svg>
        </button>

        <div class="container">
            <!-- –≠—Ç–∞–ø 1: –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <div class="stage active" id="stage1">
                <div class="hero-webapp">
                    <div class="header-row">
                        <svg
                            class="logo-webapp"
                            xmlns="http://www.w3.org/2000/svg"
                            width="60"
                            height="60"
                            viewBox="0 0 200 200"
                        >
                            <!-- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è SVG –ª–æ–≥–æ—Ç–∏–ø–∞ -->
                            <defs>
                                <linearGradient
                                    id="linkGrad"
                                    x1="0"
                                    x2="1"
                                    y1="0"
                                    y2="1"
                                >
                                    <stop offset="0%" stop-color="#00dc82" />
                                    <stop offset="50%" stop-color="#9d4edd" />
                                    <stop offset="100%" stop-color="#00f5ff" />
                                </linearGradient>
                                <filter id="glow">
                                    <feGaussianBlur
                                        in="SourceGraphic"
                                        stdDeviation="3"
                                    />
                                </filter>
                            </defs>
                            <circle
                                cx="100"
                                cy="100"
                                r="18"
                                fill="url(#linkGrad)"
                                filter="url(#glow)"
                            />
                            <circle
                                cx="100"
                                cy="100"
                                r="30"
                                fill="none"
                                stroke="#00f5ff"
                                stroke-opacity="0.4"
                            />
                            <circle cx="40" cy="40" r="6" fill="#00dc82" />
                            <circle cx="150" cy="50" r="7" fill="#00f5ff" />
                            <circle cx="160" cy="120" r="6" fill="#9d4edd" />
                            <line
                                x1="100"
                                y1="100"
                                x2="40"
                                y2="40"
                                stroke="url(#linkGrad)"
                                stroke-width="2.5"
                                opacity="0.8"
                            />
                            <line
                                x1="100"
                                y1="100"
                                x2="150"
                                y2="50"
                                stroke="url(#linkGrad)"
                                stroke-width="2.5"
                                opacity="0.8"
                            />
                            <line
                                x1="100"
                                y1="100"
                                x2="160"
                                y2="120"
                                stroke="url(#linkGrad)"
                                stroke-width="2.5"
                                opacity="0.8"
                            />
                        </svg>
                        <h1 class="title-webapp">F4TA-Morgana AI Lab</h1>
                    </div>

                    <p class="subtitle">
                        Laboratorium experimentorum neuralium
                    </p>

                    <div
                        class="upload-zone-webapp"
                        onclick="document.getElementById('fileInput').click()"
                    >
                        <input
                            type="file"
                            id="fileInput"
                            style="display: none"
                            accept="image/*"
                        />
                        <div class="upload-text">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –≤ —Ä–µ–∞–∫—Ç–æ—Ä</div>
                        <div class="upload-icon">üì∏</div>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ -->
            <div class="stage" id="stage2">
                <div class="tools-selection-webapp">
                    <div
                        class="tool-card-webapp"
                        onclick="selectTool('deepfake')"
                    >
                        <div class="tool-icon-large">üé≠</div>
                        <h3 class="tool-title">DeepFake</h3>
                        <p class="tool-description">
                            –ó–∞–º–µ–Ω–∞ –ª–∏—Ü —Å –ø–æ–º–æ—â—å—é –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π
                        </p>
                    </div>

                    <div
                        class="tool-card-webapp"
                        onclick="selectTool('neural')"
                    >
                        <div class="tool-icon-large">üé®</div>
                        <h3 class="tool-title">Neural Editor</h3>
                        <p class="tool-description">
                            –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å AI
                        </p>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="stage" id="stage3">
                <!-- DeepFake –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div id="deepfakeSettings" style="display: none">
                    <div class="settings-buttons-webapp">
                        <button
                            class="setting-button-webapp"
                            onclick="handleDeepfakeOption('upload')"
                        >
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª
                        </button>
                        <button
                            class="setting-button-webapp"
                            onclick="handleDeepfakeOption('collection')"
                        >
                            –í—ã–±—Ä–∞—Ç—å –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
                        </button>
                    </div>
                </div>

                <!-- Neural Editor –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                <div id="neuralSettings" style="display: none">
                    <div class="text-input-container">
                        <textarea
                            class="bio-input-webapp"
                            id="promptInput"
                            placeholder="–û–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è..."
                        ></textarea>
                        <div class="prompt-suggestions-webapp">
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–°–¥–µ–ª–∞—Ç—å —Ñ–æ–Ω –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º')"
                            >
                                üåå –ö–æ—Å–º–æ—Å
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–æ–Ω–æ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ')"
                            >
                                ‚ú® –ù–µ–æ–Ω
                            </div>
                            <div
                                class="prompt-chip"
                                onclick="addPrompt('–°—Ç–∏–ª—å –∫–∏–±–µ—Ä–ø–∞–Ω–∫')"
                            >
                                ü§ñ –ö–∏–±–µ—Ä–ø–∞–Ω–∫
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 4: –°–∏–Ω—Ç–µ–∑ -->
            <div class="stage" id="stage4">
                <div class="synthesis-container-webapp">
                    <div class="synthesis-reactor-webapp">
                        <div class="reactor-core"></div>
                        <div class="synthesis-ring"></div>
                    </div>
                    <div class="synthesis-text">–ë–∏–æ-—Å–∏–Ω—Ç–µ–∑ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ...</div>
                </div>
            </div>

            <!-- –≠—Ç–∞–ø 5: –†–µ–∑—É–ª—å—Ç–∞—Ç -->
            <div class="stage" id="stage5">
                <div class="result-container">
                    <div class="result-preview">
                        <div class="result-image">–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏</div>
                    </div>
                    <div class="result-actions-webapp">
                        <button
                            class="result-button-webapp"
                            onclick="downloadResult()"
                        >
                            –°–∫–∞—á–∞—Ç—å
                        </button>
                        <button
                            class="result-button-webapp"
                            onclick="goToStage(1)"
                        >
                            –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
